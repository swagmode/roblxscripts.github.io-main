<script>
    import {fade} from 'svelte/transition'
    import { onMount } from 'svelte';
    import Loading from './Loading.svelte';

    import {replace} from 'svelte-spa-router'
    const go_back = () => {
        replace('/')
    }

    let executers = [];

    onMount(async () => {
        const response = await fetch('/executors.json')
        let json = await response.json()
        executers = json.executors
    })

</script>

<svelte:head>
	<title>ðŸ”§ Exploits</title>
	<html lang="en" />
</svelte:head>

<exploits in:fade="{{duration: 500}}">
    
    <button on:click={go_back} id="goBack" class="goBack"><i class="fa-solid fa-arrow-left"></i></button>
    
    <h1 class="nosel">Exploits</h1>

    <div class="scripts_list">

        {#each executers as executer}

            <div in:fade={{duration: 500}} class="script">
                    
                <div class="images">
                    <img src="{executer.logo}" alt="">
                </div>
                <div class="info">
                    <span id="title">{executer.name}</span>
                    <span id="calender"><i class="fa-solid fa-calendar-days"></i> 19 January, 2022 </span>

                    <span id="description">
                        {executer.description ? executer.description : 'Lorem ipsum, dolor sit amet consectetur adipisicing elit. Molestias necessitatibus rem voluptatum beatae eligendi dolores quo hic soluta, nam similique dicta facilis aliquid tempora magnam. Eveniet sint rem ea atque?'}
                    </span>
                </div>
                <div class="buttons">

                    {#each executer.download as button}

                        <button disabled={button.name == "Coming Soon.."} class="{button.name == "Buy Now" ? 'paid':''}">
                            <a target="_blank" rel="noreferrer" href="{button.url}">
                                {button.name}
                            </a>
                        </button>

                    {/each}

                    
                </div>

            </div>

        {:else}
            <Loading/>
        {/each}

    </div>

</exploits>

<style>

    exploits {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .scripts_list {
        text-align: center;
        width: 75%;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(12em, 1fr));
        align-items: center;
    }

    .script {
        display: flex;
        flex-direction: column;
        width: 225px;
        height: 370px;
        background-color: #1c252cc5;
        margin: 1em;
        padding: 1em;
        color: #ffffffbe;
        border-radius: 15px;
        transition: all .2s ease-in-out;
        justify-content: space-between;
    }

    a:hover {
        text-decoration: none;
    }

    .images {
        display: flex;
        align-items: center;
        justify-content: center;
    } 

    .images img {
        border-radius: 15px;
        width: 85%;
    }

    .buttons {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
    }

    .buttons a {
        font-size: 80%;
        color: white;
        font-weight: 600;
    }

    .buttons button {
        padding: 5px;
        margin: 0px;
        width: 80%;
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 3px;
        border: none;
    }

    .paid {
        background-color: var(--secondary);
    }

    .paid:hover {
        background-color: var(--primary-hover);
    }

    .info {
        padding: 0.5em;
        display: flex;
        flex-direction: column;
        text-align: left;
    }

    .info #title {
        font-size: 20px;
        font-weight: 700;
    }

    .info #calender {
        font-size: 15px;
    }

    .info i {
        margin-right: 5px;
    }

    .info #description {
        margin-top: 10px;
        font-size: 13px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
                line-clamp: 2; 
        -webkit-box-orient: vertical;
    }

    .script:hover {
        transform: scale(1.05);
        border: 1px dashed slateblue;
    }

    h1 {
		background: linear-gradient(to right, #f96da5 20%, #a786fb 40%, #da86fb 60%, #f76196 80%, #f96da5 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 300% auto;
		font-size: 3em;
		font-weight: 700;
		margin: 0.5em;
		animation: gradient 5s ease 2s infinite alternate;
	}

</style>